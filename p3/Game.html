<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link href="css/game.css" title="compact" rel="stylesheet" type="text/css">
</head>
<html>
<body>
<body>
  <div class="title centered">
    Proto
  </div>
  <script>
    var statsOn = true;
  </script>
  <div class="util">
    <span>
      Update Time:
    </span>
    <span id="ut"></span>
    <br/>
    <span>
      Render Time:
    </span>
    <span id="rt"></span>
    <br/>
    <span>
      FPS:
    </span>
    <span id="fps"></span>
    <br/>
    <span>
      Objects:
    </span>
    <span id="num_objs"></span>
    <br/>
    <br/>
    <br/>
    <br/>
    <button id="lightsOn" type="button">Lights On</button><br/>
    <button id="lightsOff" type="button">Lights Off</button><br/>
  </div>
  <div class="screen centered">
    <canvas id="display"  width="800" height="600"></canvas>
    <canvas id="display2" width="1" height="1"></canvas>
  </div>
</audio>
<h1>dungeon alpha</h1>
<script type="text/javascript" src="dungeon.js"></script>
<script type="text/javascript" src="GameRoom.js"></script>
<script type="text/javascript" src="player.js"></script>
<script type="text/javascript" src="enemy.js"></script>
<script type="text/javascript" src="js/core/util.js"></script>
<script type="text/javascript" src="js/core/matrix.js"></script>
<script type="text/javascript" src="js/core/shader.js"></script>
<script type="text/javascript" src="js/core/gfx.js"></script>
<script type="text/javascript" src="js/core/engine.js"></script>
<script type="text/javascript" src="js/core/object.js"></script>
<script type="text/javascript" src="js/core/object3d.js"></script>
<script type="text/javascript" src="js/core/input.js"></script>
<script type="text/javascript" src="js/core/camera.js"></script>  
<script type="text/javascript" src="js/core/lights.js"></script>  
<script type="text/javascript" src="js/prototype/plane.js"></script> 
<script type="text/javascript" src="js/prototype/box.js"></script>
<script type="text/javascript" src="js/prototype/room.js"></script> 
<script type="text/javascript">
    var statsOn = true;

	
	var canvas = document.getElementById("display");

	var emptyImg = new Image();   // Create new img element
	emptyImg.src = 'img/emptyImg.png';	
	var roomImg = new Image();   // Create new img element
	roomImg.src = 'img/roomImg.png';

	var size = 17;
	
	//init level
	var level = new Dungeon(size);
	
	var currentRoom = level.dungeon[level.spawnX][level.spawnY];
	var RoomRender = new Room();

	var player = new Player([0, 0, 2], [1, 1, 1]);
	var enemy = new Enemy([0,0,1], [1,1,1], player);
	var light = player.light;

	//start the renderer
	game.start();
	
	var FPS = 30;
	setInterval(function() {
			update();
			//draw();
		}, 1000/FPS);
	
	//main update loop for the game
	function update(){	
		player.update();
		enemy.update();
		currentRoom.checkCollisionAt(player.roomx, player.roomy);
		//update enemies;
  }
	
</script>

</body>
</html>
